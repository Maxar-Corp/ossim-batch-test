//---
// File ossim-chipper-test.kwl
//---

// ---
// Begin test1:
// ---
test1.name: test1
test1.description: Test height for center of image from test2 as it is affected by height.

// Clean up commands.
test1.clean_command0: $(RMDIR_CMD) $(OBT_OUT_DIR)/t1-info-height.txt

// Commands to generate expected results:

// Height center of image for test2
test1.expected_results_command0: ossim-info --height -42.8612076379401 147.259269295413,253.262469256983 > $(OBT_EXP_DIR)/t1-info-height.txt

// The actual commands to test:

test1.test_command0: ossim-info --height -42.8612076379401 147.259269295413,253.262469256983 > $(OBT_OUT_DIR)/t1-info-height.txt

// Post process commands for diffs and stuff:

test1.postprocess_command0: $(DIFF_CMD) $(OBT_EXP_DIR)/t1-info-height.txt $(OBT_OUT_DIR)/t1-info-height.txt
 
// ---
// End test1:
// ---

// ---
// Begin test2:
// ---
test2.name: test2
test2.description: Test ossim-chipper ortho mode on rpc image.
test2.enabled: 1

// Commands to generate expected results:

test2.expected_results_command0: ossim-chipper --op ortho --histogram-op auto-minmax --cut-center-llwh -42.883986392005788 147.331309643650911 512 512 --scale-to-8-bit -w tiff_tiled_band_separate $(OSSIM_BATCH_TEST_DATA)/geoeye1/GE1_Hobart_GeoStereo_NITF-NCD/001508507_01000SP00332258/5V090205P0001912264B220000100282M_001508507/Volume1/5V090205P0001912264B220000100282M_001508507.ntf $(OBT_EXP_DIR)/t2.tif

test2.expected_results_command1: ossim-preproc -r --ot ossim_kakadu_nitf_j2k --create-histogram $(OBT_EXP_DIR)/t2.tif

test2.expected_results_command2: ossim-info -d -i -p $(OBT_EXP_DIR)/t2.tif > $(OBT_EXP_DIR)/t2-info.txt

// The actual commands to test:

test2.test_command0: ossim-chipper --op ortho --histogram-op auto-minmax --cut-center-llwh -42.883986392005788 147.331309643650911 512 512 --scale-to-8-bit -w tiff_tiled_band_separate $(OSSIM_BATCH_TEST_DATA)/geoeye1/GE1_Hobart_GeoStereo_NITF-NCD/001508507_01000SP00332258/5V090205P0001912264B220000100282M_001508507/Volume1/5V090205P0001912264B220000100282M_001508507.ntf $(OBT_OUT_DIR)/t2.tif

test2.test_command1: ossim-preproc -r --ot ossim_kakadu_nitf_j2k --create-histogram-fast $(OBT_OUT_DIR)/t2.tif

test2.test_command2: ossim-info -d -i -p $(OBT_OUT_DIR)/t2.tif > $(OBT_OUT_DIR)/t2-info.txt

// Post process commands for diffs and stuff:

test2.postprocess_command0: $(DIFF_CMD) $(OBT_EXP_DIR)/t2-info.txt $(OBT_OUT_DIR)/t2-info.txt
test2.postprocess_command1: $(DIFF_CMD) $(OBT_EXP_DIR)/t2.his $(OBT_OUT_DIR)/t2.his

// ---
// End test2:
// ---


// ---
// Begin test3:
// Note no geometry with "chip" mode so no -p in ossim-info.
// ---
test3.name: test3
test3.description: Test ossim-chipper chip mode, with up is up, on rpc image.
test3.enabled: 1

// Commands to generate expected results:

test3.expected_results_command0: ossim-chipper --op chip -u --histogram-op auto-minmax --cut-center-llwh -42.883986392005788 147.331309643650911 512 512 --scale-to-8-bit -w tiff_tiled_band_separate $(OSSIM_BATCH_TEST_DATA)/geoeye1/GE1_Hobart_GeoStereo_NITF-NCD/001508507_01000SP00332258/5V090205P0001912264B220000100282M_001508507/Volume1/5V090205P0001912264B220000100282M_001508507.ntf $(OBT_EXP_DIR)/t3.tif

test3.expected_results_command1: ossim-preproc -r --ot ossim_kakadu_nitf_j2k --create-histogram $(OBT_EXP_DIR)/t3.tif

test3.expected_results_command2: ossim-info -d -i $(OBT_EXP_DIR)/t3.tif > $(OBT_EXP_DIR)/t3-info.txt

// The actual commands to test:

test3.test_command0: ossim-chipper --op chip -u --histogram-op auto-minmax --cut-center-llwh -42.883986392005788 147.331309643650911 512 512 --scale-to-8-bit -w tiff_tiled_band_separate $(OSSIM_BATCH_TEST_DATA)/geoeye1/GE1_Hobart_GeoStereo_NITF-NCD/001508507_01000SP00332258/5V090205P0001912264B220000100282M_001508507/Volume1/5V090205P0001912264B220000100282M_001508507.ntf $(OBT_OUT_DIR)/t3.tif

test3.test_command1: ossim-preproc -r --ot ossim_kakadu_nitf_j2k --create-histogram-fast $(OBT_OUT_DIR)/t3.tif

test3.test_command2: ossim-info -d -i $(OBT_OUT_DIR)/t3.tif > $(OBT_OUT_DIR)/t3-info.txt

// Post process commands for diffs and stuff:

test3.postprocess_command0: $(DIFF_CMD) $(OBT_EXP_DIR)/t3-info.txt $(OBT_OUT_DIR)/t3-info.txt
test3.postprocess_command1: $(DIFF_CMD) $(OBT_EXP_DIR)/t3.his $(OBT_OUT_DIR)/t3.his

// ---
// End test3:
// ---




// ---
// Begin test4:
// Note no geometry with "chip" mode so no -p in ossim-info.
// ---
test4.name: test4
test4.description: Test ossim-chipper chip mode, with north up, on rpc image.
test4.enabled: 1

// Commands to generate expected results:

test4.expected_results_command0: ossim-chipper --op chip -n --histogram-op auto-minmax --cut-center-llwh -42.883986392005788 147.331309643650911 512 512 --scale-to-8-bit -w tiff_tiled_band_separate $(OSSIM_BATCH_TEST_DATA)/geoeye1/GE1_Hobart_GeoStereo_NITF-NCD/001508507_01000SP00332258/5V090205P0001912264B220000100282M_001508507/Volume1/5V090205P0001912264B220000100282M_001508507.ntf $(OBT_EXP_DIR)/t4.tif

test4.expected_results_command1: ossim-preproc -r --ot ossim_kakadu_nitf_j2k --create-histogram $(OBT_EXP_DIR)/t4.tif

test4.expected_results_command2: ossim-info -d -i $(OBT_EXP_DIR)/t4.tif > $(OBT_EXP_DIR)/t4-info.txt

// The actual commands to test:

test4.test_command0: ossim-chipper --op chip -n --histogram-op auto-minmax --cut-center-llwh -42.883986392005788 147.331309643650911 512 512 --scale-to-8-bit -w tiff_tiled_band_separate $(OSSIM_BATCH_TEST_DATA)/geoeye1/GE1_Hobart_GeoStereo_NITF-NCD/001508507_01000SP00332258/5V090205P0001912264B220000100282M_001508507/Volume1/5V090205P0001912264B220000100282M_001508507.ntf $(OBT_OUT_DIR)/t4.tif

test4.test_command1: ossim-preproc -r --ot ossim_kakadu_nitf_j2k --create-histogram-fast $(OBT_OUT_DIR)/t4.tif

test4.test_command2: ossim-info -d -i $(OBT_OUT_DIR)/t4.tif > $(OBT_OUT_DIR)/t4-info.txt

// Post process commands for diffs and stuff:

test4.postprocess_command0: $(DIFF_CMD) $(OBT_EXP_DIR)/t4-info.txt $(OBT_OUT_DIR)/t4-info.txt
test4.postprocess_command1: $(DIFF_CMD) $(OBT_EXP_DIR)/t4.his $(OBT_OUT_DIR)/t4.his

// ---
// End test4:
// ---





// ---
// Begin test5:
// Note no geometry with "chip" mode so no -p in ossim-info.
// ---
test5.name: test5
test5.description: Test ossim-chipper chip mode, with rotation, on rpc image.
test5.enabled: 1

// Commands to generate expected results:

test5.expected_results_command0: ossim-chipper --op chip -r 45.0 --histogram-op auto-minmax --cut-center-llwh -42.883986392005788 147.331309643650911 512 512 --scale-to-8-bit -w tiff_tiled_band_separate $(OSSIM_BATCH_TEST_DATA)/geoeye1/GE1_Hobart_GeoStereo_NITF-NCD/001508507_01000SP00332258/5V090205P0001912264B220000100282M_001508507/Volume1/5V090205P0001912264B220000100282M_001508507.ntf $(OBT_EXP_DIR)/t5.tif

test5.expected_results_command1: ossim-preproc -r --ot ossim_kakadu_nitf_j2k --create-histogram $(OBT_EXP_DIR)/t5.tif

test5.expected_results_command2: ossim-info -d -i $(OBT_EXP_DIR)/t5.tif > $(OBT_EXP_DIR)/t5-info.txt

// The actual commands to test:

test5.test_command0: ossim-chipper --op chip -r 45.0 --histogram-op auto-minmax --cut-center-llwh -42.883986392005788 147.331309643650911 512 512 --scale-to-8-bit -w tiff_tiled_band_separate $(OSSIM_BATCH_TEST_DATA)/geoeye1/GE1_Hobart_GeoStereo_NITF-NCD/001508507_01000SP00332258/5V090205P0001912264B220000100282M_001508507/Volume1/5V090205P0001912264B220000100282M_001508507.ntf $(OBT_OUT_DIR)/t5.tif

test5.test_command1: ossim-preproc -r --ot ossim_kakadu_nitf_j2k --create-histogram-fast $(OBT_OUT_DIR)/t5.tif

test5.test_command2: ossim-info -d -i $(OBT_OUT_DIR)/t5.tif > $(OBT_OUT_DIR)/t5-info.txt

// Post process commands for diffs and stuff:

test5.postprocess_command0: $(DIFF_CMD) $(OBT_EXP_DIR)/t5-info.txt $(OBT_OUT_DIR)/t5-info.txt
test5.postprocess_command1: $(DIFF_CMD) $(OBT_EXP_DIR)/t5.his $(OBT_OUT_DIR)/t5.his

// ---
// End test5:
// ---
